<!DOCTYPE html>
<html>
<head>
  <title>Send Location</title>
</head>
<body>
  <h2>Click to senddd your location</h2>
  <button onclick="sendLocation()">Send My Location</button>
  <p id="status"></p>

  <script>
    function sendLocation() {
      const status = document.getElementById("status");
      if (!navigator.geolocation) {
        status.textContent = "Geolocation not supported.";
        return;
      }

      status.textContent = "Getting your locationâ€¦";

      navigator.geolocation.getCurrentPosition(
        (position) => {
          const lat = position.coords.latitude;
          const lng = position.coords.longitude;

          const scriptURL = "https://script.google.com/macros/s/AKfycbzPaUBNmCG6Pma1cppVac7LrDgyj3eo4HNHoQWhFpCXdvbkz1q_J7Ye0m-n0_ybQqx7/exec";

          fetch(`${scriptURL}?lat=${lat}&lng=${lng}`, {
            method: "POST",
            mode: "no-cors"
          })
          .then(() => {
            status.textContent = "Location sent successfully!";
          })
          .catch((err) => {
            status.textContent = "Failed to send location.";
            console.error(err);
          });
        },
        () => {
          status.textContent = "Unable to access location.";
        }
      );
    }
  </script>
</body>
</html>
